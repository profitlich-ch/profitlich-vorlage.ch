{"version":3,"names":[],"mappings":"","sources":["karte/karte.js"],"sourcesContent":["// Kartenstil\nvar kartenstil = [\n    {\n        \"elementType\": \"geometry.fill\",\n        \"stylers\": [\n            {\n                \"color\": \"#ebe8e1\"\n            }\n        ]\n    },\n    {\n        \"elementType\": \"geometry.stroke\",\n        \"stylers\": [\n            {\n                \"color\": \"#ffffff\"\n            },\n            {\n                \"weight\": 0.5\n            }\n        ]\n    },\n    {\n        \"featureType\": \"landscape\",\n        \"elementType\": \"labels\",\n        \"stylers\": [\n            {\n                \"visibility\": \"off\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"poi\",\n        \"stylers\": [\n            {\n                \"visibility\": \"off\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road\",\n        \"elementType\": \"geometry.fill\",\n        \"stylers\": [\n            {\n                \"color\": \"#dfdbcf\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road\",\n        \"elementType\": \"labels.icon\",\n        \"stylers\": [\n            {\n                \"visibility\": \"off\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road\",\n        \"elementType\": \"labels.text.fill\",\n        \"stylers\": [\n            {\n                \"color\": \"#757575\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road\",\n        \"elementType\": \"labels.text.stroke\",\n        \"stylers\": [\n            {\n                \"color\": \"#ebe8e1\"\n            },\n            {\n                \"weight\": 1\n            }\n        ]\n    },\n    {\n        \"featureType\": \"road.highway\",\n        \"elementType\": \"geometry.fill\",\n        \"stylers\": [\n            {\n                \"color\": \"#bfb79f\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"transit\",\n        \"elementType\": \"labels.icon\",\n        \"stylers\": [\n            {\n                \"visibility\": \"off\"\n            }\n        ]\n    },\n    {\n        \"featureType\": \"transit.line\",\n        \"elementType\": \"geometry.fill\",\n        \"stylers\": [\n            {\n                \"color\": \"#bfb79f\"\n            },\n            {\n                \"weight\": 0.5\n            }\n        ]\n    },\n    {\n        \"featureType\": \"transit.line\",\n        \"elementType\": \"geometry.stroke\",\n        \"stylers\": [\n            {\n                \"weight\": 0.5\n            }\n        ]\n    },\n    {\n        \"featureType\": \"water\",\n        \"stylers\": [\n            {\n                \"color\": \"#bed1dc\"\n            }\n        ]\n    }\n];\n\n\n// Google Maps\nvar map;\nkarteInitialisiert = false;\n\nfunction karteInitialisieren(karte) {\n\n    if (karteInitialisiert == false) {\n        var script = document.createElement('script');\n        script.src = 'https://maps.googleapis.com/maps/api/js?key=APIKEY&callback=initMap';\n        script.async = true;\n    \n        // Attach your callback function to the `window` object\n        window.initMap = function() {\n            karteInitialisiert = true;\n            markerInitialisieren();\n            karteAnzeigen(karte);\n        };\n    \n        // Append the 'script' element to 'head'\n        document.head.appendChild(script);\n    } else {\n        karteAnzeigen(karte);\n    }\n    \n    function karteAnzeigen(karte) {\n\n        var styledMap = new google.maps.StyledMapType(kartenstil, { name: \"Reduziert\" });\n\n        mapObject = new google.maps.Map(karte, {\n            center: { lat: 47.0368931, lng: 8.3066952 },\n            zoom: 14,\n            mapTypeControl: false,\n            streetViewControl: false,\n        });\n        mapObject.mapTypes.set('map_style', styledMap);\n        mapObject.setMapTypeId('map_style');\n\n        markerSetzen(karte);\n\n    }\n}\n\nfunction markerInitialisieren() {\n    // Marker definieren\n    markerBild = {\n\n        path: 'M55.32,0H55A54.84,54.84,0,0,0,0,54.68V55C0,85.5,55,160,55,160s55-74.5,55-105A54.84,54.84,0,0,0,55.32,0Zm.17,80H55a24.76,24.76,0,1,1,.49,0Z',\n        fillColor: '#000000',\n        fillOpacity: 1,\n        scale: 0.4,\n        strokeWeight: 0,\n        scaledSize: new google.maps.Size(110, 160),\n        origin: new google.maps.Point(55, 160),\n        anchor: new google.maps.Point(55, 160),\n\n    };\n}\n\n\n// Marker setzen\nfunction markerSetzen(karte) {\n\n    if (typeof markierung !== 'undefined') {\n        while (markierung.length) {\n            markierung.pop().setMap(null);\n        }\n    }\n\n    // Marker Variablen setzen\n    markierung = [];\n    latlngbounds = '';\n    latlngbounds = new google.maps.LatLngBounds();\n    var marker = karte.getAttribute('data-karte-marker');\n    var markerArray = JSON.parse(marker);\n    var zoom = parseInt(karte.getAttribute('data-karte-zoom'));\n    markerArray.forEach(marker => {\n        var myLatlng = new google.maps.LatLng(marker.lat, marker.lng);\n        markierung[i] = new google.maps.Marker({\n            position: myLatlng,\n            map: mapObject,\n            icon: markerBild\n        });\n        latlngbounds.extend(myLatlng);\n    });\n    mapObject.fitBounds(latlngbounds);\n    var listener = google.maps.event.addListener(mapObject, \"idle\", function () {\n        if (mapObject.getZoom() > zoom) mapObject.setZoom(zoom);\n        google.maps.event.removeListener(listener);\n    });\n}\n\ndocument.querySelectorAll('[data-karte]').forEach(karte => {\n    karteInitialisieren(karte);\n});"],"file":"karte.js"}